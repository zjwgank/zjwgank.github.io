<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>前端编码 | Blog for my life</title><meta name="author" content="zjwgank"><meta name="copyright" content="zjwgank"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="escape对字符串进行编码,生成新的由十六进制unicode码替换的字符串.该方法不会对ASCII字母、数字和* @ - _ + . &#x2F; 。编码,其他所有的字符都会被unicode码替换.编码出来的值如果小于等于0xFF,将会用%xx表示 xx &lt;&#x3D; 0xFF &#x3D;&gt; %xx;如果大于则用%uxxxx表示xx &gt; 0xFF &#x3D;&gt; %uxxxx解码则采用 unescape该特">
<meta property="og:type" content="article">
<meta property="og:title" content="前端编码">
<meta property="og:url" content="http://zjwgank.github.io/2021/03/03/%E5%89%8D%E7%AB%AF%E7%BC%96%E7%A0%81/">
<meta property="og:site_name" content="Blog for my life">
<meta property="og:description" content="escape对字符串进行编码,生成新的由十六进制unicode码替换的字符串.该方法不会对ASCII字母、数字和* @ - _ + . &#x2F; 。编码,其他所有的字符都会被unicode码替换.编码出来的值如果小于等于0xFF,将会用%xx表示 xx &lt;&#x3D; 0xFF &#x3D;&gt; %xx;如果大于则用%uxxxx表示xx &gt; 0xFF &#x3D;&gt; %uxxxx解码则采用 unescape该特">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2021-03-03T14:41:21.000Z">
<meta property="article:modified_time" content="2021-03-03T16:10:29.889Z">
<meta property="article:author" content="zjwgank">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://zjwgank.github.io/2021/03/03/%E5%89%8D%E7%AB%AF%E7%BC%96%E7%A0%81/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-03-04 00:10:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a></div></div></div><hr/></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Blog for my life</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">前端编码</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-03-03T14:41:21.000Z" title="发表于 2021-03-03 22:41:21">2021-03-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-03T16:10:29.889Z" title="更新于 2021-03-04 00:10:29">2021-03-04</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="escape"><a href="#escape" class="headerlink" title="escape"></a>escape</h3><p>对字符串进行编码,生成新的由十六进制unicode码替换的字符串.该方法不会对ASCII字母、数字和<code>* @ - _ + . / 。</code>编码,其他所有的字符都会被unicode码替换.编码出来的值如果小于等于0xFF,将会用%xx表示<code> xx &lt;= 0xFF =&gt; %xx</code>;如果大于则用%uxxxx表示<code>xx &gt; 0xFF =&gt; %uxxxx</code><br>解码则采用 <code>unescape</code><br>该特性已经从Web标准中删除,但是一些浏览器仍然支持它.</p>
<blockquote>
<p>URLs are sequences of characters, i.e., letters, digits, and special characters. …The interpretation of a URL depends only on the identity of the characters used.<br>In addition, octets may be encoded by a character triplet consisting of the character “%” followed by the two hexadecimal digits (from”0123456789ABCDEF”) which forming the hexadecimal value of the octet.</p>
</blockquote>
<h3 id="encodeURI"><a href="#encodeURI" class="headerlink" title="encodeURI"></a>encodeURI</h3><p>encodeURI函数通过将特定字符的每个实例替换为一个、两个、三或四转义序列(% + 两位16进制数字)来对URI进行编码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">encodeURI(URI) &#x3D;&gt; 一个新的字符串,</span><br></pre></td></tr></table></figure>
<p>encodeURI除了<code>; , / ? : @ &amp; = + $</code>(保留字符)、<code>字母 数字 - _ . ! ~ * &#39; ( )</code>(非转义字符)、<code>#</code>(数字符号)会替换所有字符.<br>注意:encodeURI自身无法产生能够适用于HTTP GET或POST请求的URI,因为<code>&amp; + = </code>不会被编码,而在GET和POST请求中,这些属于特殊字符,<br>解码采用<code>decodeURI</code></p>
<h3 id="encodeURIComponent"><a href="#encodeURIComponent" class="headerlink" title="encodeURIComponent"></a>encodeURIComponent</h3><p>encodeURIComponent函数通过将一个、两个,三个或者四个表示字符的utf-8编码的转义序列(% + 两位16进制数字)替换某些字符的每个序列来编码URI.(对于两个“代理”字符组成的字符而言,将尽是4个转义序列)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">encodeURIComponent(URI) &#x3D;&gt; 一个新的字符串</span><br></pre></td></tr></table></figure>
<p>encodeURIComponent除了<code>字母 数字 - _ . ! ~ * &#39; ( )</code>(非转义字符)之外转义所有字符.<br>为了避免服务器收到不可预知的请求,对任何用户输入的作为URI部分的内容都需要使用encodeURIComponent进行转义<br>解码采用<code>decodeURIComponent</code></p>
<p>直接由浏览器发起的请求,encodeURI或者encodeURIComponent转义后的字符串的编码格式由网页编码决定<br>而js调用的ajax请求中,IE上转义后采用的gb2312,Firefox采用的是utf-8</p>
<blockquote>
<p>URLs are written only with the graphic printable characters of the US-ASCII coded character set. The octets 80-FF hexadecimal are not used in US-ASCII, and the octets 00-1F and 7F hexadecimal represent control characters; these must be encoded.<br>Characters can be unsafe for a number of reasons. The space character is unsafe because significant spaces may disappear and insignificant spaces may be introduced when URLs are transcribed or typeset or subjected to the treatment of word-processing programs.The characters “&lt;” and “&gt;” are unsafe because they are used as the delimiters around URLs in free text; the quote mark (“””) is used to delimit URLs in some systems. The character “#” is unsafe and should always be encoded because it is used in World Wide Web and in other systems to delimit a URL from a fragment/anchor identifier that might follow it.  The character “%” is unsafe because it is used for encodings of other characters. Other characters are unsafe because gateways and other transport agents are known to sometimes modify such characters. These characters are “{“, “}”, “|”, “&quot;, “^”, “~”, “[“, “]”, and “`”.<br>Many URL schemes reserve certain characters for a special meaning: their appearance in the scheme-specific part of the URL has a designated semantics. If the character corresponding to an octet is reserved in a scheme, the octet must be encoded. The characters “;”, “/“, “?”, “:”, “@”, “=” and “&amp;” are the characters which may be reserved for special meaning within a scheme. No other characters may be reserved within a scheme.<br>Usually a URL has the same interpretation when an octet is represented by a character and when it encoded. However, this is not true for reserved characters: encoding a character reserved for a particular scheme may change the semantics of a URL.<br>Thus, only alphanumerics, the special characters “$-_.+!*’(),”, and reserved characters used for their reserved purposes may be used unencoded within a URL.<br><a target="_blank" rel="noopener" href="https://tools.ietf.org/rfc/rfc1738.txt">RFC1738</a></p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">zjwgank</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://zjwgank.github.io/2021/03/03/%E5%89%8D%E7%AB%AF%E7%BC%96%E7%A0%81/">http://zjwgank.github.io/2021/03/03/%E5%89%8D%E7%AB%AF%E7%BC%96%E7%A0%81/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://zjwgank.github.io" target="_blank">Blog for my life</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/03/06/%E8%B7%A8%E5%9F%9F/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">跨域</div></div></a></div><div class="next-post pull-right"><a href="/2021/03/02/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98-DNS%E7%BC%93%E5%AD%98/"><img class="next-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">前端缓存-DNS缓存</div></div></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">zjwgank</div><div class="author-info__description">life work study</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#escape"><span class="toc-number">1.</span> <span class="toc-text">escape</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#encodeURI"><span class="toc-number">2.</span> <span class="toc-text">encodeURI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#encodeURIComponent"><span class="toc-number">3.</span> <span class="toc-text">encodeURIComponent</span></a></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/06/03/VueRouter%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%BA%8C/" title="VueRouter源码解析二"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VueRouter源码解析二"/></a><div class="content"><a class="title" href="/2021/06/03/VueRouter%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%BA%8C/" title="VueRouter源码解析二">VueRouter源码解析二</a><time datetime="2021-06-03T14:42:50.000Z" title="发表于 2021-06-03 22:42:50">2021-06-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/30/VueRouter%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B8%80/" title="VueRouter源码解析一"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VueRouter源码解析一"/></a><div class="content"><a class="title" href="/2021/05/30/VueRouter%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B8%80/" title="VueRouter源码解析一">VueRouter源码解析一</a><time datetime="2021-05-30T14:55:37.000Z" title="发表于 2021-05-30 22:55:37">2021-05-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/30/Vuex%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%BA%94/" title="Vuex源码解析五"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vuex源码解析五"/></a><div class="content"><a class="title" href="/2021/05/30/Vuex%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%BA%94/" title="Vuex源码解析五">Vuex源码解析五</a><time datetime="2021-05-30T13:59:31.000Z" title="发表于 2021-05-30 21:59:31">2021-05-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/28/Vuex%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E5%9B%9B/" title="Vuex源码解析四"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vuex源码解析四"/></a><div class="content"><a class="title" href="/2021/05/28/Vuex%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E5%9B%9B/" title="Vuex源码解析四">Vuex源码解析四</a><time datetime="2021-05-28T14:42:18.000Z" title="发表于 2021-05-28 22:42:18">2021-05-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/26/Vuex%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B8%89/" title="Vuex源码解析三"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vuex源码解析三"/></a><div class="content"><a class="title" href="/2021/05/26/Vuex%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B8%89/" title="Vuex源码解析三">Vuex源码解析三</a><time datetime="2021-05-26T15:13:49.000Z" title="发表于 2021-05-26 23:13:49">2021-05-26</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By zjwgank</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>